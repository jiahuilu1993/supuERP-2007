<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>行程进度</title>
	<style>
@font-face {font-family: "iconfont";
  src: url('//at.alicdn.com/t/font_234130_nem7eskcrkpdgqfr.eot?t=1505291076294'); /* IE9*/
  src: url('//at.alicdn.com/t/font_234130_nem7eskcrkpdgqfr.eot?t=1505291076294#iefix') format('embedded-opentype'), /* IE6-IE8 */
  url('data:application/x-font-woff;charset=utf-8;base64,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') format('woff'),
  url('//at.alicdn.com/t/font_234130_nem7eskcrkpdgqfr.ttf?t=1505291076294') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+*/
  url('//at.alicdn.com/t/font_234130_nem7eskcrkpdgqfr.svg?t=1505291076294#iconfont') format('svg'); /* iOS 4.1- */
}

.iconfont {
  font-family:"iconfont" !important;
  font-size:16px;
  font-style:normal;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}



		*{
			margin: 0;
			padding: 0;
		}
		ul{
			list-style: none;
		}
		#schedule-box{
			width: 80%;
			margin: 0 auto;
			padding: 35px 20px;
			font-size: 3rem;
			margin-top: 3rem;
			position: relative;
		}
		.schedule-hd{
			display: flex;
			justify-content: space-between;
			padding: 0 15px;
		}
		.ul-box{
			overflow: hidden;
		}
		.ul-box > li{
			float: left;
			width: 13.9%;
			text-align: center;
			border: 1px solid rgb(230,230,230);
			position: relative;
			height: 7rem;   
			line-height: 7rem;
			overflow: hidden;
		}
		.week-ul > li{
			border: 1px solid rgb(230,230,230);
			height: 7rem;   
			line-height: 7rem;
		} 
		.other-month{/*//其他日期*/
			color: #999999;
		}
		.current-month{/*//当前月*/
			color: #000;
		}
		.today-style{
			border-radius: 50%;
			background: #58d321;
		}
		.dayStyle{
			display: inline-block;
			width: 100%;
			height: 100%;
			text-align: center;
			line-height: 35px;
			cursor: pointer;
			position: relative;
			z-index: 100;
		}
		.boxshaw{
			box-shadow: 2px 2px 15px 2px #e3e3e3;
		}
		.selected-style {
			background: #00BDFF;
			color: #ffffff;
		}
		.startday{
			background: green;color: white;
			
		}
		.sign-r{
			color: white;
			font-size: 2.6rem;
			position: absolute;
			right: 0px;
			bottom: 0px;
			height: 3rem;
			line-height: 3rem;
			z-index: 5;
		}
		.sign-l{
			color: white;
			font-size: 2.6rem;
			position: absolute;
			left: 0px;
			top: 0px;
			height: 3rem;
			line-height: 3rem;
			z-index: 5;
		}
		.half-r{
			color: white;
			font-size: 2.6rem;
			position: absolute;
			right: 0px;
			bottom: 0px;
			height: 100%;
			width: 100%;
			line-height: 10rem;
			transform: rotateZ(45deg)  translateX(71%) scale(1.414);
		}
		.half-l{
			color: white;
			font-size: 2.6rem;
			position: absolute;
			right: 0px;
			bottom: 0px;
			height: 100%;
			width: 100%;
			line-height: 10rem;
			transform: rotateZ(45deg)  translateX(-70%) scale(1.414);
		} 
		.div-a{ float:left;width:49%;margin-top: 10px; } 
		.div-b{ float:left;width:49%;margin-top: 10px; } 
	</style>
</head>
<body>
	<div id='schedule-box' class="boxshaw"></div>
	<div style="margin-left:5rem;margin-top:20px">
		<div style="font-size:3rem;" class="div-a"><span style="background: yellow;">　</span> 审核任务</div>
		<div style="font-size:3rem;" class="div-b"><span style="background: blue;  ">　</span> 培训讲课</div>
		<div style="font-size:3rem;" class="div-a"><span style="background: red;   ">　</span> 请假</div>
		<div style="font-size:3rem;" class="div-b"><span style="background: green; ">　</span> 人员外出</div>
	</div>
</body>

<script src="__PUBLIC__/style/js/shenheyuan/schedule.js"></script>

<script>
	var d    = new Date();
    var $str = d.getFullYear()+"-"+(d.getMonth()+1);
    console.log($str);
	var mySchedule = new Schedule(
	{
		el: '#schedule-box',
		date: $str,                   //指定月份
	});
	window.onload = function(){
		
		var data = {$data};
		console.log(data)
		choosedata();
		function choosedata(){ 
			var datalist = document.getElementsByClassName("current-month")//当前月日期
			for (var i=0;i<data.length;i++) {
				console.log(data[i])
				var starttime = data[i].starttime.split(":")[0]
				var endttime  = data[i].endttime.split(":")[0]
				var datatime  = data[i].data.slice(8,10)
				datatime.charAt(0)=="0"?datatime = datatime.slice(-1):datatime = datatime;
				
				if (parseFloat(starttime)<12&&parseFloat(endttime)>12) {
					console.log(datatime,"zheng")
					datalist[datatime-1].setAttribute("style","background: "+data[i].color+";color: white;")
				} else if(parseFloat(starttime)<12&&parseFloat(endttime)<13){
					var spanl = document.createElement("span")
						spanl.innerHTML = "半"     //上
						spanl.className = "sign-l"
					var span3 = document.createElement("span")
						span3.className = "half-l"	  //上
					span3.style.background = data[i].color;
					datalist[datatime-1].appendChild(spanl); 
					datalist[datatime-1].appendChild(span3);
					console.log(datatime,"shang")
					console.log(datalist[datatime-1])
				} else if(parseFloat(starttime)>12&&parseFloat(endttime)>12){  
					var span = document.createElement("span")
						span.innerHTML = "半"     
						span.className = "sign-r"
					var span2 = document.createElement("span")
						span2.className = "half-r"	
						span2.style.background = data[i].color;
					datalist[datatime-1].appendChild(span); 
					datalist[datatime-1].appendChild(span2);
					console.log(datatime,"xia") 
					console.log(datalist[datatime-1])
				}
			} 
		}
	}
</script>

</html>